'use strict';var textBox=document.getElementById("value"),msg=document.getElementById("msg");function InsertNode(){update();var b=Number(textBox.value||getRandomInt(0,1E3));bst.InsertVal(b);textBox.value="";msg.innerHTML="";textBox.focus();drawTree()}function RandomTreeNode(){for(var b=0;10>b;b++){var c=Number(getRandomInt(0,1E3));bst.InsertVal(c)}textBox.value="";msg.innerHTML="";textBox.focus();drawTree()}
function DeleteNode(){""!=textBox.value&&(bst.DeleteVal(Number(textBox.value)),textBox.value="",drawTree());msg.innerHTML="";textBox.focus()}function SearchNode(){""!=textBox.value&&(-1==bst.Search(Number(textBox.value))?msg.innerHTML="not found":(update(),msg.innerHTML="found"));textBox.value="";textBox.focus()}function Successor(){if(""!=textBox.value){var b=bst.successor(Number(textBox.value));return-1==b?(msg.innerHTML="not found",null):msg.innerHTML=b.value}textBox.value="";textBox.focus()}
function Predecessor(){if(""!=textBox.value){var b=bst.predecessor(Number(textBox.value));msg.innerHTML=-1==b?"not found":b.value}textBox.value="";textBox.focus()}function Print(b){b=b.call(bst);msg.innerHTML=b.join(", ");textBox.focus()}function handleKeyPress(b){b=b.keyCode||b.which;msg.innerHTML="";13==b&&InsertNode()}function getRandomInt(b,c){return Math.floor(Math.random()*(c-b))+b}
function Go(){var b=document.getElementById("RangeTo").value,c=document.getElementById("RangeFrom").value,a=document.getElementById("NumNodes").value;if(b<c)msg.innerHTML="You should choose legal Range";else for(var d=0;d<a;d++)bst.InsertVal(Math.ceil(Math.random()*(b-c+1)+c));textBox.value="";msg.innerHTML="";textBox.focus();drawTree()}function Clear(){clear()}function update(){drawTree()}
function drawTree(){d3.select("svg").remove();if(bst.root){var b=bst.root;var c=d3.tree().size([800,600]);b=d3.hierarchy(b);b=c(b);d3.scaleOrdinal(["#C90676"]);c=d3.select("article").append("svg").attr("width",980).attr("height",690).append("g").attr("transform","translate(90,40)");c.selectAll(".link").data(b.descendants().slice(1)).enter().append("path").attr("class","link").attr("d",function(a){a.parent&&(a.x=null!=a.right?a.parent.parent?a.x+Math.abs(a.parent.x-a.parent.parent.x)/2:a.x+200:a.parent.parent?
a.x-Math.abs(a.parent.x-a.parent.parent.x)/2:a.x-200);return"M"+a.x+","+a.y+"C"+(a.x+a.parent.x)/2+","+(a.y+a.parent.y)/2+" "+(a.x+a.parent.x)/2+","+(a.y+a.parent.y)/2+" "+a.parent.x+","+a.parent.y});c=c.selectAll(".node").data(b.descendants()).enter().append("g").attr("class",function(a){return"node node--inner "}).attr("transform",function(a){return"translate("+a.x+","+a.y+")"});c.append("circle").attr("r",30).attr("stroke","steelblue");c.append("text").attr("dy",".35em").attr("y",function(a){return 0}).style("text-anchor",
"middle").text(function(a){return a.value})}};