'use strict';var source,target,test,start,q,edge,stepDelay=900,data={nodes:[],links:[],colors:[]},neighbor=[],d=[],v=[],qExist=[],currentNaighbor=[],algorithim=["Add a root for the tree","Add Child At Left","Add Child at Right","If Parent value Bigger than current-SWICH"];
function Heap(){function f(){this.elements=[]}function l(a,b){for(var g=!1,c=0;c<a.length;c++)a[c]==b&&(g=!0);return g}function h(a){for(var b=0;b<sizeArray;b++)if(data.colors[b].node==a)return b}function k(a){for(var b=0;b<sizeArray;b++)if(data.nodes[b].value==a)return b}this.storage=[];this.insert=function(a){0==GetSize?alert("Please Enter a Size of Nodes"):this.storage.length<sizeArray?(void 0===a&&(a=parseInt(document.getElementById("value").value),document.getElementById("value").value=""),this.storage.push(a),
insertNode(a),node={value:a,id:this.storage.length,x:coorxy[this.storage.length-1][0],y:coorxy[this.storage.length-1][1]},data.nodes.push(node),0==sizeArray-this.storage.length&&drowGraph()):alert("Heap Is Full")};this.initArrays=function(a){start=a;q.enqueue(Number(start));d[0]=0;v[0]="NIL";for(var b=0;b<sizeArray;b++)0==b?(d[0]=0,v[0]="NIL"):(d[b]="infinity",v[b]="NIL"),this.storage[b]!=a?data.colors.push({node:this.storage[b],color:"White"}):data.colors.push({node:this.storage[b],color:"Gray"});
CreateInit()};f.prototype.enqueue=function(a){this.elements.push(a)};f.prototype.dequeue=function(){return this.elements.shift()};f.prototype.isEmpty=function(){return 0==this.elements.length};f.prototype.peek=function(){return this.isEmpty()?void 0:this.elements[0]};f.prototype.length=function(){return this.elements.length};q=new f;this.updateArrays=function(){start=q.dequeue();qExist.push(start);for(var a=0;a<sizeArray-1;a++)data.links[a].source==Number(start)&&(data.colors[h(data.links[a].source)].color=
"Black",0==l(qExist,data.links[a].target)&&(d[nodesArray.indexOf(data.links[a].target)]=Number(d[nodesArray.indexOf(Number(start))])+1,v[nodesArray.indexOf(data.links[a].target)]=data.links[a].source,q.enqueue(data.links[a].target),data.colors[h(data.links[a].target)].color="Gray",k(data.links[a].target),k(data.links[a].target))),data.links[a].target==Number(start)&&(data.colors[h(data.links[a].target)].color="Black",0==l(qExist,data.links[a].source)&&(d[nodesArray.indexOf(data.links[a].source)]=
Number(d[nodesArray.indexOf(Number(start))])+1,v[nodesArray.indexOf(data.links[a].source)]=data.links[a].target,q.enqueue(data.links[a].source),data.colors[h(data.links[a].source)].color="Gray",k(data.links[a].source),k(data.links[a].source)));UpdateNodeColor();upDateRows(d,v)};this.bfs=function(a){for(var b=0;b<data.links.length;b++)data.links[b].source==a&&neighbor.push(data.links[b].target),data.links[b].target==a&&neighbor.push(data.links[b].source);0!=neighbor.length&&CreateNeighborArray(neighbor)};
this.insertedge=function(a){source=Number(a[1]);target=Number(a[3]);if(isNaN(source)||isNaN(target))alert("error edge,Please choose in this format:(a,b) or (1,3)");else for(link={source,target},data.links.push(link),a=0;a<data.nodes.length;a++)data.nodes[a].value==source&&(sourcex=data.nodes[a].x,sourcey=data.nodes[a].y),data.nodes[a].value==target&&(targetx=data.nodes[a].x,targety=data.nodes[a].y)};Heap.prototype.removeMax=function(){if(0===this.storage.length)return null;if(1===this.storage.length){var a=
this.storage.pop();restoreInitial();return a}a=this.storage[-1];this.storage[-1]=this.storage.pop();swapRoot();var b=this,g=function(c){var e=c;2*c+1<b.storage.length&&b.storage[2*c+1]<b.storage[c]&&(e=2*c+1);2*c+2<b.storage.length&&b.storage[2*c+2]<b.storage[c]&&(e=2*c+2);e!==c&&(b.storage[c]^=b.storage[e],b.storage[e]^=b.storage[c],b.storage[c]^=b.storage[e],n=this.storage,swapNodes(e,c),setTimeout(function(){g(e)},stepDelay))};setTimeout(function(){g(0)},stepDelay);return a}}var hp=new Heap;